webpackJsonp([11],{"8qQp":function(t,e){},H8j3:function(t,e){},QLfc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mtWM"),n=a.n(i),s={data:function(){return{email_invitation:{email:"",role:"STF"},user_data_invitation:{username:"",password:"",first_name:"",last_name:"",email:"",phone:"",department:"",status:"ACT",is_staff:!0,is_active:!0}}},created:function(){},methods:{checkPhoneValidation:function(t){return""==t||0!=/^1[34578]\d{9}$/.test(t)||(alert("error: 手机号格式错误!"),!1)},checkEmailValidation:function(t){return""==t||0!=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(t)||(alert("error: 邮箱地址格式错误!"),!1)},CreateUser:function(){var t=this;this.checkPhoneValidation(this.user_data_invitation.phone)&&this.checkEmailValidation(this.user_data_invitation.email)&&n()({url:"/users/",method:"post",data:this.user_data_invitation,headers:{Authorization:"Bearer "+this.$store.getters.getUserAccessToken}}).then(function(e){t.$message({type:"success",message:"创建成功!"}),location.reload()}).catch(function(t){alert("error:"+t)})},sendEmailInvitation:function(){var t=this;n()({url:"/user-invitations/",method:"post",data:this.email_invitation,headers:{Authorization:"Bearer "+this.$store.getters.getUserAccessToken}}).then(function(e){t.$message({type:"success",message:"发送成功!"}),location.reload()}).catch(function(t){alert("error:"+t)})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"card",staticStyle:{"margin-top":"20px"}},[a("h2",{staticStyle:{"text-align":"center"}},[t._v("\n      创建账户\n    ")]),t._v(" "),a("el-row",[a("el-col",{staticStyle:{"margin-left":"51px"},attrs:{span:11}},[a("h3",{staticStyle:{"text-align":"left"}},[t._v("\n          邮件邀请\n        ")]),t._v(" "),a("el-form",{staticClass:"form",attrs:{"label-width":"130px"}},[a("el-form-item",{staticClass:"label",attrs:{label:"邀请邮箱(Email)"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"Send invitations through email"},model:{value:t.email_invitation.email,callback:function(e){t.$set(t.email_invitation,"email",e)},expression:"email_invitation.email"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"change",attrs:{target:"user",type:"primary"},on:{click:t.sendEmailInvitation}},[t._v("发送")])],1)],1)],1)],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-left":"50px"},attrs:{span:11}},[a("h3",{staticStyle:{"text-align":"left"}},[t._v("\n          直接创建(*为必填项)\n        ")]),t._v(" "),a("el-form",{staticClass:"form",attrs:{"label-width":"136px",align:""}},[a("el-form-item",{staticClass:"form-item-require-lable",attrs:{label:"名(First Name)"}},[a("el-input",{staticStyle:{width:"70%"},model:{value:t.user_data_invitation.first_name,callback:function(e){t.$set(t.user_data_invitation,"first_name",e)},expression:"user_data_invitation.first_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"form-item-require-lable",attrs:{label:"姓(Last Name)"}},[a("el-input",{staticStyle:{width:"70%"},model:{value:t.user_data_invitation.last_name,callback:function(e){t.$set(t.user_data_invitation,"last_name",e)},expression:"user_data_invitation.last_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"form-item-require-lable",attrs:{label:"用户名(Username)"}},[a("el-input",{staticStyle:{width:"70%"},model:{value:t.user_data_invitation.username,callback:function(e){t.$set(t.user_data_invitation,"username",e)},expression:"user_data_invitation.username"}})],1),t._v(" "),a("el-form-item",{staticClass:"form-item-require-lable",attrs:{label:"密码(Password)"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{"show-password":""},model:{value:t.user_data_invitation.password,callback:function(e){t.$set(t.user_data_invitation,"password",e)},expression:"user_data_invitation.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"邮箱(Email)"}},[a("el-input",{staticStyle:{width:"70%"},model:{value:t.user_data_invitation.email,callback:function(e){t.$set(t.user_data_invitation,"email",e)},expression:"user_data_invitation.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"电话(Phone)"}},[a("el-input",{staticStyle:{width:"70%"},model:{value:t.user_data_invitation.phone,callback:function(e){t.$set(t.user_data_invitation,"phone",e)},expression:"user_data_invitation.phone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"部门(Department)"}},[a("el-input",{staticStyle:{width:"70%"},model:{value:t.user_data_invitation.department,callback:function(e){t.$set(t.user_data_invitation,"department",e)},expression:"user_data_invitation.department"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{"margin-left":"46.8%"},attrs:{type:"primary"},on:{click:t.CreateUser}},[t._v("立即创建")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var l={components:{"account-create":a("VU/8")(s,r,!1,function(t){a("H8j3"),a("8qQp")},"data-v-38ddf488",null).exports},data:function(){return{}},created:function(){"true"!=this.$store.getters.getUserLoginStatus&&this.$router.push("/login")}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("account-create")],1)},staticRenderFns:[]},c=a("VU/8")(l,o,!1,null,null,null);e.default=c.exports}});
//# sourceMappingURL=11.0091ad90c003f856df01.js.map